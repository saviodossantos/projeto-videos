const { builtinModules } = require("module")

async function conecta(){
    const mysql = require("mysql2/promise")
    const conn = await mysql.createConnection({
        host: "localhost",
        user: "l20",
        password: "9802@Maria",
        database:"projeto_videos"
    })
    console.log("mySQL conectado!")
    global.connection = conn
    return connection
}

//conecta()

async function selectFilmes(){
    const conectado = await conecta()
    const [rows] = await conectado.query("SELECT titulo, ano, genero,sipnose FROM filmes")
    //console.log(rows)
    return rows
}

//selectFilmes()

module.exports = {selectFilmes}